<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>my little astral being</title>
		<meta name="description" content="look after your own astral pet!">

		<link rel="stylesheet" href="/styles/main.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
		<script src="scripts/main.js"></script>
	</head>
	<body class="hide">
		<div id="overlay"><div id="overlay-box"></div></div>
		<div class="dialog" id="pet-name-dialog" title="a strange crystal falls from the sky...">
			you pick it up and feel the vibrations from its energy field.
			<br/><br/>
			when you get home, you put it in a safe place.
			<br/><br/>
			the crystal glistens in the
			<a data-cyclinglink='{ "variable": "variableToSet", "type": "desc",
				"options": [
				"vibrant beam of golden sunlight",
				"pale silver curtain of moonlight",
				"glowing aura of your laptop screen"
				]}'></a>
			<br/><br/>
			a small crack is appearing on the egg-shaped stone.
			<br/><br/>
			could it be?
			<br/><br/>
			is this an astral being?
			<br/><br/>
			what do you want to call it?
			<br/><br/>
			<span id="pet-name" data-contenteditable="true" data-initial="Fluffy"></span>.
			<div class="buttons">
				<button>blah</button>
				<button class="close" data-setvariable='{ "variable": "pet.name", "type": "desc", "element": "#pet-name" }'>OK</button>
			</div>
		</div>

		<canvas id="petcanvas"></canvas>

		<div class="bottom">
		<div id="menu">
			<ul>
				<li><a href="#pet-data">data</a></li>
				<li><a href="#pet-element-stats">elements</a></li>
				<li><a href="#pet-actions">actions</a></li>
			</ul>
			<div id="pet-data">
				<div>
					<span data-showvariable="pet.name"></span> is <span data-showvariable="pet.body.species.articleName()"></span>
				</div>
				<div>
					<div class="progress-label">dusty:</div>
					<div class="progress-wrapper">
						<progress class="silver" data-event='pet:body:dust:change' data-progress='pet.body.dust' data-max='100'></progress>
					</div>
				</div>
			</div>
			<div id="pet-element-stats">
				<table data-arraytotable="pet.soul.elements.toTableArray()"></table>
			</div>
			<div id="pet-actions">
				<button id="polish">polish</button>
			</div>
		</div>
		</div>

		<div class="top centerText">
			<button id="daybutton">go to sleep</button>
		</div>

		<script type="text/javascript">
		$(function()
		{
			var tabEffect = { effect: "fade", duration: 500, easing: "linear" };
			$("#menu").tabs(
			{
				hide: tabEffect,
				show: tabEffect,
			});

			$("#polish").button().click(function(e)
			{
				e.preventDefault();
				pet.body.polish();
			});

			$("#daybutton").button().click(function(e)
			{
				e.preventDefault();
				pet.runDay();
			});

			$("#pet-name-dialog").dialog();
		});
		</script>
	</body>
</html>
